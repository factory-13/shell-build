#!/usr/bin/env bash

# -------------------------------------------------------------------------------------------------------------------- #
# Build SRPM & RPM packages.
# -------------------------------------------------------------------------------------------------------------------- #
# @author Kitsune Solar <kitsune.solar@gmail.com>
# @version 1.0.0
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Build SRPM.
# -------------------------------------------------------------------------------------------------------------------- #

ext.mock.build.srpm() {
    config="${1}"
    distr="${2}"
    package="${3}"

    mock -r ${config}                       \
    --spec=specs/${distr}/${package}.spec   \
    --sources=sources/${distr}/${package}   \
    --resultdir=srpms/${distr}              \
    --buildsrpm
}

# -------------------------------------------------------------------------------------------------------------------- #
# Build RPM.
# -------------------------------------------------------------------------------------------------------------------- #

ext.mock.build.rpm() {
    config="${1}"
    distr="${2}"
    package="${3}"

    mock -r ${config}           \
    --resultdir=rpms/${distr}   \
    --rebuild srpms/${distr}/${package}.${distr}.src.rpm
}
